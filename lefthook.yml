pre-commit:
  parallel: true
  commands:
    # 1. Kotlin linting with ktlint
    ktlint:
      glob: "*.{kt,kts}"
      run: ./gradlew ktlintCheck --daemon
      stage_fixed: true
      fail_text: "❌ ktlint failed. Run './gradlew ktlintFormat' to fix."

    # 2. Static analysis with detekt
    detekt:
      glob: "*.{kt,kts}"
      run: ./gradlew detekt --daemon
      fail_text: "❌ Detekt found issues. Check build/reports/detekt/"
